import{_ as p,o as n,c as l,a as i,w as H,F as C,r as w,t as _,b as f,d as m,e as L,f as E,g as h,h as F,i as g,n as I,j as D,k as B,l as $,m as V}from"./index.3d1c0914.js";const Z=e=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),S={email:Z};const O={name:"InputField",props:{validations:{type:Array,default:[]},errors:{type:Array,default:[]},value:{type:String,default:""}},validationRules:S,errorMessages:{email:"Please enter a valid email address. For example johndoe@domain.com."},emits:{"update:value":null,"update:errors":e=>Array.isArray(e),save:null},inheritAttrs:!1,methods:{updateValue(e){this.$emit("update:value",e.target.value)},async validate(){return this.$nextTick(()=>this.validations.every(e=>{const t=this.$options.validationRules[e],r=t(this.value);return r?this.clearErrors():this.pushError(this.$options.errorMessages[e]),r}))},clearErrors(){this.$emit("update:errors",[])},pushError(e){this.$emit("update:errors",[{message:e}])}}},P={class:"input-field"},T=["placeholder","value"],b={class:"input-field__errors"};function A(e,t,r,u,o,s){return n(),l("div",P,[i("input",{class:"input-field__input",type:"text",placeholder:e.$attrs.placeholder,value:r.value,onInput:t[0]||(t[0]=(...a)=>s.updateValue&&s.updateValue(...a)),onKeydown:t[1]||(t[1]=H(a=>e.$emit("save"),["enter"])),onFocus:t[2]||(t[2]=(...a)=>s.clearErrors&&s.clearErrors(...a))},null,40,T),(n(!0),l(C,null,w(r.errors,a=>(n(),l("div",b,_(a.message),1))),256))])}const J=p(O,[["render",A]]),N={},U={viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",class:"ico ico-close"},z=i("path",{d:"M1.70925 0.29327C1.3183 -0.0976991 0.684362 -0.0977652 0.293323 0.293123C-0.0977166 0.684011 -0.0977827 1.31783 0.293175 1.7088L5.58536 7.00114L0.301071 12.2845C-0.0899276 12.6754 -0.0899276 13.3092 0.301071 13.7002C0.692069 14.0911 1.326 14.0911 1.717 13.7002L7.00114 8.41697L12.2907 13.7067C12.6817 14.0977 13.3156 14.0978 13.7067 13.7069C14.0977 13.316 14.0978 12.6822 13.7068 12.2912L8.41707 7.00129L13.7046 1.71474C14.0956 1.32381 14.0956 0.689991 13.7046 0.299062C13.3136 -0.0918667 12.6796 -0.0918667 12.2886 0.299062L7.00129 5.58546L1.70925 0.29327Z"},null,-1),G=[z];function W(e,t){return n(),l("svg",U,G)}const j=p(N,[["render",W]]);const q={name:"BaseModal",components:{IconClose:j},props:{title:{type:String,default:""}},currentPopupController:null,data(){return{isOpen:!1}},methods:{open(){let e,t;const r=new Promise((u,o)=>{e=u,t=o});return this.$options.popupController={resolve:e,reject:t},this.isOpen=!0,r},confirm(e=!0){this.$options.popupController.resolve(e),this.isOpen=!1},close(e=!1){this.$options.popupController.resolve(e),this.isOpen=!1}}},K={class:"v-popup__header"},Q={key:0,class:"v-popup__title"},X={class:"v-popup__footer"};function Y(e,t,r,u,o,s){const a=h("IconClose");return o.isOpen?(n(),l("div",{key:0,class:"v-popup",onClick:t[1]||(t[1]=(...d)=>s.close&&s.close(...d))},[i("div",{class:"v-popup__content",onClick:t[0]||(t[0]=E(()=>{},["stop"]))},[i("div",K,[r.title?(n(),l("h3",Q,_(r.title),1)):f("",!0),m(a,{onClick:s.close},null,8,["onClick"])]),L(e.$slots,"content"),i("div",X,[L(e.$slots,"footer",{close:s.close,confirm:s.confirm})])])])):f("",!0)}const ee=p(q,[["render",Y]]),te={},se={width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",class:"ico ico-circle-minus"},oe=i("path",{d:"M20 10.0002C20 4.47698 15.5222 0.000244141 10 0.000244141C4.47784 0.000244141 0 4.47698 0 10.0002C0 15.5225 4.47779 20.0002 10 20.0002C15.5222 20.0002 20 15.5225 20 10.0002ZM10 1.50024C14.6938 1.50024 18.5 5.30551 18.5 10.0002C18.5 14.694 14.6938 18.5002 10 18.5002C5.30621 18.5002 1.5 14.694 1.5 10.0002C1.5 5.30551 5.30616 1.50024 10 1.50024ZM6 9.25024C5.58579 9.25024 5.25 9.58603 5.25 10.0002C5.25 10.4145 5.58579 10.7502 6 10.7502H14C14.4142 10.7502 14.75 10.4145 14.75 10.0002C14.75 9.58603 14.4142 9.25024 14 9.25024H6Z"},null,-1),ne=[oe];function ie(e,t){return n(),l("svg",se,ne)}const le=p(te,[["render",ie]]);const re={},ae={class:"social-list"},ce=F('<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" fill="#6001D1"></rect><path d="M18.6154 15.1885L16.2745 20.9979L14.0079 15.1862C13.9753 15.1029 13.9184 15.0313 13.8446 14.9808C13.7709 14.9302 13.6836 14.903 13.5941 14.9026H10.4442C10.3714 14.9026 10.2997 14.9204 10.2355 14.9546C10.1712 14.9888 10.1163 15.0383 10.0757 15.0987C10.035 15.1591 10.0098 15.2286 10.0024 15.301C9.99487 15.3734 10.0053 15.4465 10.0328 15.514L14.2729 25.9215L13.1896 28.6042C13.1607 28.6719 13.1491 28.7458 13.1558 28.8192C13.1626 28.8926 13.1875 28.9631 13.2283 29.0245C13.2692 29.0858 13.3246 29.1361 13.3897 29.1706C13.4548 29.2052 13.5274 29.223 13.6011 29.2225H16.6441C16.7325 29.2229 16.819 29.1967 16.8923 29.1474C16.9657 29.0981 17.0225 29.0279 17.0556 28.9459L22.4836 15.5233C22.5107 15.4569 22.5213 15.385 22.5145 15.3137C22.5077 15.2424 22.4838 15.1737 22.4447 15.1137C22.4057 15.0536 22.3527 15.0039 22.2902 14.9687C22.2278 14.9336 22.1577 14.9141 22.0861 14.9119H19.0246C18.9366 14.912 18.8506 14.9384 18.7777 14.9877C18.7048 15.037 18.6483 15.1069 18.6154 15.1885Z" fill="white"></path><path d="M26.0844 10.9017C26.1182 10.8188 26.1762 10.748 26.2508 10.6986C26.3255 10.6493 26.4134 10.6236 26.5029 10.6251H29.5505C29.6232 10.6246 29.6949 10.6421 29.7592 10.676C29.8236 10.71 29.8785 10.7592 29.9192 10.8195C29.9599 10.8797 29.9851 10.9491 29.9926 11.0214C30 11.0938 29.9895 11.1668 29.962 11.2341L26.7353 19.1659C26.7024 19.2481 26.6456 19.3186 26.5723 19.3683C26.499 19.418 26.4125 19.4447 26.3239 19.4448H23.2809C23.2081 19.4449 23.1364 19.427 23.0721 19.3928C23.0078 19.3586 22.953 19.3091 22.9123 19.2487C22.8717 19.1883 22.8465 19.1189 22.839 19.0464C22.8315 18.974 22.842 18.9009 22.8694 18.8334L26.0844 10.9017Z" fill="white"></path><path d="M23.5229 25.7215C24.8825 25.7215 25.9847 24.6193 25.9847 23.2597C25.9847 21.9 24.8825 20.7979 23.5229 20.7979C22.1632 20.7979 21.061 21.9 21.061 23.2597C21.061 24.6193 22.1632 25.7215 23.5229 25.7215Z" fill="white"></path><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" stroke="#DFD8CF"></rect></svg><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" fill="white"></rect><g clip-path="url(#clip0_1224_3018)"><path d="M9.20454 29.3775H13.1818V19.7184L10.5774 15.1707L7.5 15.457V27.6729C7.5 28.6147 8.26279 29.3775 9.20454 29.3775Z" fill="#0085F7"></path><path d="M26.8181 29.3775H30.7954C31.7372 29.3775 32.5 28.6147 32.5 27.6729V15.457L29.427 15.1707L26.8182 19.7184V29.3775H26.8181Z" fill="#00A94B"></path><path d="M26.8182 12.3319L24.4819 16.7901L26.8182 19.7183L32.5 15.4569V13.1842C32.5 11.0777 30.0952 9.87455 28.4091 11.1388L26.8182 12.3319Z" fill="#FFBC00"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M13.1818 19.7184L10.9556 15.0158L13.1818 12.332L20 17.4457L26.8181 12.332V19.7184L20 24.832L13.1818 19.7184Z" fill="#FF4131"></path><path d="M7.5 13.1842V15.4569L13.1818 19.7183V12.3319L11.5909 11.1388C9.90483 9.87455 7.5 11.0777 7.5 13.1842H7.5Z" fill="#E51C19"></path></g><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" stroke="#DFD8CF"></rect><defs><clipPath id="clip0_1224_3018"><rect width="25" height="25" fill="white" transform="translate(7.5 7.5)"></rect></clipPath></defs></svg><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" fill="#3399FF"></rect><g clip-path="url(#clip0_1224_3027)"><path d="M21.2648 17.2859C19.0194 17.2859 17.3208 19.1423 17.3208 21.4421C17.3208 23.8666 19.091 25.5983 21.2648 25.5983C23.4385 25.5983 25.2022 23.8666 25.2022 21.4421C25.2022 19.1423 23.5101 17.2859 21.2648 17.2859ZM21.2648 19.4818C22.2345 19.4748 23.0285 20.3546 23.0285 21.4421C23.0285 22.5227 22.2345 23.4025 21.2648 23.4025C20.2951 23.4025 19.5011 22.5227 19.5011 21.4421C19.5011 20.3546 20.2951 19.4818 21.2648 19.4818Z" fill="white"></path><path d="M32.5 24.1434C32.5 24.9469 31.8883 25.5981 31.1333 25.5981C30.3784 25.5981 29.7666 24.9469 29.7666 24.1434C29.7666 23.3399 30.3784 22.6887 31.1333 22.6887C31.8883 22.6887 32.5 23.3399 32.5 24.1434Z" fill="white"></path><path d="M28.5215 25.3213H26.3738V15H28.5215V25.3213Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 25.3213L11.4049 15H13.4225L17.2623 25.3213H14.5289L14.0733 23.8666H10.689L10.2334 25.3213H7.5ZM13.4225 21.7192H11.4049L12.4137 18.2557L13.4225 21.7192Z" fill="white"></path></g><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" stroke="#DFD8CF"></rect><defs><clipPath id="clip0_1224_3027"><rect width="25" height="10.625" fill="white" transform="translate(7.5 15)"></rect></clipPath></defs></svg><svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" fill="white"></rect><g clip-path="url(#clip0_1224_3034)"><path d="M21.8327 12.1099C20.6391 12.1123 19.4676 12.4323 18.4386 13.0372C17.4096 13.642 16.5602 14.5098 15.9775 15.5515C15.4759 15.3073 14.9255 15.18 14.3676 15.1792C13.4932 15.1815 12.6481 15.4943 11.983 16.0619C11.3178 16.6294 10.8759 17.4148 10.736 18.2779C9.81236 18.6646 9.02365 19.3157 8.46892 20.1493C7.9142 20.9829 7.61822 21.9618 7.61816 22.9632C7.61947 24.31 8.15556 25.6011 9.10859 26.5528C10.0616 27.5044 11.3535 28.0386 12.7004 28.038C12.9135 28.036 13.1263 28.0207 13.3375 27.9921H27.4587C27.5329 27.9974 27.6072 28.001 27.6815 28.0028C27.7523 28.0008 27.8231 27.9972 27.8938 27.9921H28.2319V27.9669C29.3817 27.8309 30.4419 27.2758 31.2114 26.4068C31.981 25.5379 32.4066 24.4154 32.4074 23.2522V23.243C32.4047 22.1383 32.0189 21.0691 31.3164 20.2192C30.6139 19.3694 29.6386 18.7921 28.5583 18.5868C28.4941 16.8464 27.7573 15.1988 26.5028 13.9907C25.2484 12.7827 23.5742 12.1084 21.8327 12.1099Z" fill="url(#paint0_linear_1224_3034)"></path></g><rect x="0.5" y="0.5" width="39" height="39" rx="5.5" stroke="#DFD8CF"></rect><defs><linearGradient id="paint0_linear_1224_3034" x1="32.4826" y1="23.265" x2="7.60901" y2="22.9219" gradientUnits="userSpaceOnUse"><stop stop-color="#3E82F4"></stop><stop offset="1" stop-color="#93DCF7"></stop></linearGradient><clipPath id="clip0_1224_3034"><rect width="25" height="16.25" fill="white" transform="translate(7.5 11.875)"></rect></clipPath></defs></svg>',4),de=[ce];function pe(e,t){return n(),l("div",ae,de)}const he=p(re,[["render",pe]]),_e={},ue={viewBox:"0 0 10 6",xmlns:"http://www.w3.org/2000/svg",class:"ico ico-dropdown"},me=i("path",{d:"M1.46303 0.5H8.53632C8.66145 0.500547 8.78361 0.539735 8.88735 0.61261C8.9911 0.685485 9.07178 0.788774 9.11918 0.909415C9.16658 1.03006 9.17859 1.16263 9.15367 1.29038C9.12875 1.41813 9.06803 1.53531 8.97919 1.62711L5.44887 5.30503C5.39006 5.36681 5.32008 5.41585 5.24299 5.44931C5.16589 5.48277 5.08319 5.5 4.99967 5.5C4.91615 5.5 4.83346 5.48277 4.75636 5.44931C4.67927 5.41585 4.60929 5.36681 4.55048 5.30503L1.02016 1.62711C0.931316 1.53531 0.870598 1.41813 0.84568 1.29038C0.820762 1.16263 0.832764 1.03006 0.880167 0.909415C0.92757 0.788774 1.00825 0.685485 1.112 0.61261C1.21574 0.539735 1.3379 0.500547 1.46303 0.5Z"},null,-1),ve=[me];function Ce(e,t){return n(),l("svg",ue,ve)}const fe=p(_e,[["render",Ce]]);const we={name:"DropdownHandler",components:{IconDropdown:fe},props:{title:{type:String,required:!0}},emits:{click:null},data(){return{isOpen:!1}},methods:{openDropdown(e){this.isOpen=!0,this.$emit("click",e)},close(){this.isOpen=!1}}};function ge(e,t,r,u,o,s){const a=h("IconDropdown");return n(),l("span",{onClick:t[0]||(t[0]=(...d)=>s.openDropdown&&s.openDropdown(...d)),class:I(["v-dropdown",{"is-open":o.isOpen}])},[g(_(r.title)+" ",1),m(a)],2)}const xe=p(we,[["render",ge]]),ye={},Le={viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",class:"ico ico-check"},$e=i("path",{d:"M5.9429 11.4016L0.800049 6.29984L2.43548 4.71584L5.9429 8.16156L13.5646 0.601562L15.2 2.2267L5.9429 11.4016Z"},null,-1),Ie=[$e];function De(e,t){return n(),l("svg",Le,Ie)}const ke=p(ye,[["render",De]]);const Me={name:"RolesInfo",components:{IconCheck:ke},props:{activeRole:{type:String,default:""},roles:{type:Array,default:[]}},emits:{selectRole:null}},Re={class:"roles"},He=["onClick"],Ee={class:"roles__title"},Fe={class:"roles__text"};function Be(e,t,r,u,o,s){const a=h("IconCheck");return n(),l("ul",Re,[(n(!0),l(C,null,w(r.roles,d=>(n(),l("li",{class:"roles__item",onClick:x=>e.$emit("selectRole",d)},[i("h4",Ee,[g(_(d.title)+" ",1),r.activeRole===d.id?(n(),D(a,{key:0})):f("",!0)]),i("p",Fe,_(d.text),1)],8,He))),256))])}const Ve=p(Me,[["render",Be]]);const Ze={name:"InvitePopup",components:{RolesInfo:Ve,DropdownHandler:xe,SocialList:he,IconCircleMinus:le,BaseModal:ee,InputField:J},emits:{mounted:null},data(){return{inputEmail:{value:"",errors:[]},personalMessage:"",inviteData:[{mail:"example@email.com"},{name:"John Wick",mail:"example@email.com"},{name:"Bruce Wayne",mail:"example@email.com",role:"admin"},{name:"Jose Galdino",mail:"example@email.com"},{mail:"example@email.com"},{name:"John Wick",mail:"example@email.com"},{name:"Peter Parker",mail:"example@email.com"},{name:"John Doe",mail:"example@email.com",role:"guest"},{name:"John Wick",mail:"example@email.com"}],rolesData:[{id:"guest",title:"Guest",text:"Default access level, can leave tributes, share media and stories"},{id:"admin",title:"Administrator",text:"Can control all aspects of the website, including moderating content posted by others and changing website settings"}],selectedRole:null,activeRoleIndex:0,dropdownTop:0,dropdownIsOpen:!1}},computed:{getStyleForDropdown(){return{top:this.dropdownTop+"px"}},getRecipientCountsText(){return this.inviteData.length?`${this.inviteData.length} ${this.inviteData.length>1?"recipients":"recipient"}`:""}},mounted(){this.$emit("mounted")},methods:{openPopup(){return this.$refs.popup.open()},getDefaultRole(e){return e||this.rolesData[0].id},async addInviteEmail(){await this.$refs.inviteEmailInput.validate()&&(this.inviteData.push({mail:this.inputEmail.value,role:"guest"}),this.inputEmail.value="",this.scrollToBottom(this.$refs["scroll-view"]))},removeInviteEmail(e){this.inviteData.splice(e,1)},scrollToBottom(e){this.$nextTick(()=>{e.scroll({top:e.scrollHeight,behavior:"smooth"})})},openDropdown(e,t,r){if(this.dropdownIsOpen){this.dropdownIsOpen=!1;return}this.selectedRole=this.getDefaultRole(r),this.dropdownIsOpen=!0,this.activeRoleIndex=t;const u=e.currentTarget.getBoundingClientRect();this.dropdownTop=u.top-this.$refs.popup.$el.firstElementChild.offsetTop,this.$refs["scroll-view"].addEventListener("scroll",this.scrollHandler)},selectRole(e){this.inviteData[this.activeRoleIndex].role=e.id,this.dropdownIsOpen=!1},scrollHandler(){this.$refs["scroll-view"].removeEventListener("scroll",this.scrollHandler),this.dropdownIsOpen=!1}},watch:{dropdownIsOpen(){this.dropdownIsOpen===!1&&this.$refs.dropdown[this.activeRoleIndex].close()}}},Se={class:"invite-form"},Oe={class:"invite-form__add"},Pe={class:"invite-form__social"},Te=i("span",{class:"social-text"}," or add from",-1),be={class:"invite-emails",ref:"scroll-view"},Ae={class:"invite-emails__mail"},Je={class:"invite-emails__name"},Ne={key:1,class:"invite-emails__mail"},Ue={class:"invite-form__actions"},ze=["onClick"];function Ge(e,t,r,u,o,s){const a=h("InputField"),d=h("SocialList"),x=h("DropdownHandler"),k=h("IconCircleMinus"),M=h("RolesInfo"),R=h("BaseModal");return n(),l("div",Se,[m(R,{ref:"popup",title:"Invite others"},B({content:$(()=>[i("div",Oe,[m(a,{ref:"inviteEmailInput",placeholder:"Enter people E-mails",validations:["email"],errors:o.inputEmail.errors,"onUpdate:errors":t[0]||(t[0]=c=>o.inputEmail.errors=c),value:o.inputEmail.value,"onUpdate:value":t[1]||(t[1]=c=>o.inputEmail.value=c),onSave:s.addInviteEmail},null,8,["errors","value","onSave"]),i("button",{onClick:t[2]||(t[2]=(...c)=>s.addInviteEmail&&s.addInviteEmail(...c)),class:"btn"}," Add"),i("div",Pe,[Te,m(d)])]),i("ul",be,[(n(!0),l(C,null,w(o.inviteData,(c,v)=>(n(),l("li",{class:I(["invite-emails__item",{"invite-emails__item--with-name":c.name}])},[c.name?(n(),l(C,{key:0},[i("span",Ae,_(c.name),1),i("span",Je,_(c.mail),1)],64)):(n(),l("span",Ne,_(c.mail),1)),m(x,{ref_for:!0,ref:"dropdown",title:s.getDefaultRole(c.role),onClick:y=>s.openDropdown(y,v,c.role)},null,8,["title","onClick"]),m(k,{class:"invite-emails__remove",onClick:y=>s.removeInviteEmail(v)},null,8,["onClick"])],2))),256))],512),o.dropdownIsOpen?(n(),D(M,{key:0,style:V(s.getStyleForDropdown),roles:o.rolesData,activeRole:s.getDefaultRole(o.selectedRole),onSelectRole:s.selectRole},null,8,["style","roles","activeRole","onSelectRole"])):f("",!0)]),_:2},[o.inviteData.length?{name:"footer",fn:$(({confirm:c})=>[m(a,{placeholder:"Personal message (optional)",value:o.personalMessage,"onUpdate:value":t[3]||(t[3]=v=>o.personalMessage=v)},null,8,["value"]),i("div",Ue,[g(_(s.getRecipientCountsText)+" ",1),i("button",{class:"btn btn-invert",onClick:v=>c({inviteData:o.inviteData,personalMessage:o.personalMessage})},"Send",8,ze)])]),key:"0"}:void 0]),1536)])}const je=p(Ze,[["render",Ge]]);export{je as default};
